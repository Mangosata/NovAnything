import{m as e,q as a,s as t,al as r,D as l,y as n,d as s,P as o,A as i,t as u,x as c,C as d,E as p,n as m,aT as v,c as f,aU as g,H as b,as as y,aV as h,aQ as _,aW as k,ae as C,aX as S,aY as O,aZ as x,I as w,v as j,a as z,w as $,T as P,U as I,e as M,$ as L,X as R,b as A,O as T,j as U,o as D,l as B,g as E,a8 as H,B as X,Q as N,R as F,f as G,Z as W,a_ as K,a4 as Q,p as Z,i as q,a6 as Y}from"./index-Dnd1wrVz.js";import{u as V}from"./urlConfig-BRkfAQUm.js";import{T as J,M as ee}from"./TeamOutlined-C1WkXm__.js";import{S as ae,_ as te}from"./index-b0BYlB-E.js";import{u as re,e as le,_ as ne,a as se,C as oe,b as ie,T as ue,c as ce}from"./index-B_1x0Xrf.js";import{_ as de}from"./index-BOQF8sB2.js";import{D as pe,M as me,_ as ve,a as fe}from"./index-BnSsJVJ9.js";import{D as ge}from"./index-DI3wlhMT.js";import{P as be,U as ye}from"./UserOutlined-sw_XmNpd.js";import{F as he,_ as _e}from"./index-Wcu94PXT.js";import{S as ke}from"./index-CXl91b5n.js";import{r as Ce}from"./responsiveObserve-DBZcF5T1.js";import{_ as Se}from"./index-DxXpsklO.js";import"./LeftOutlined-CbcobKim.js";import"./class-FJ4HjPo2.js";import"./RightOutlined-BOg6omYT.js";import"./collapseMotion-SidVLewu.js";import"./FolderOutlined-rNcZH25l.js";import"./CheckOutlined-BY4Hd7YC.js";import"./injectionKey-BS_bSTfS.js";import"./slide-emAtT-ep.js";const Oe=e=>{const{antCls:a,componentCls:l,iconCls:n,avatarBg:s,avatarColor:o,containerSize:i,containerSizeLG:u,containerSizeSM:c,textFontSize:d,textFontSizeLG:p,textFontSizeSM:m,borderRadius:v,borderRadiusLG:f,borderRadiusSM:g,lineWidth:b,lineType:y}=e,h=(e,a,t)=>({width:e,height:e,lineHeight:e-2*b+"px",borderRadius:"50%",[`&${l}-square`]:{borderRadius:t},[`${l}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${l}-icon`]:{fontSize:a,[`> ${n}`]:{margin:0}}});return{[l]:t(t(t(t({},r(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:o,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:s,border:`${b}px ${y} transparent`,"&-image":{background:"transparent"},[`${a}-image-img`]:{display:"block"}}),h(i,d,v)),{"&-lg":t({},h(u,p,f)),"&-sm":t({},h(c,m,g)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},xe=e=>{const{componentCls:a,groupBorderColor:t,groupOverlapping:r,groupSpace:l}=e;return{[`${a}-group`]:{display:"inline-flex",[`${a}`]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:r}},[`${a}-group-popover`]:{[`${a} + ${a}`]:{marginInlineStart:l}}}},we=e("Avatar",(e=>{const{colorTextLightSolid:t,colorTextPlaceholder:r}=e,l=a(e,{avatarBg:r,avatarColor:t});return[Oe(l),xe(l)]}),(e=>{const{controlHeight:a,controlHeightLG:t,controlHeightSM:r,fontSize:l,fontSizeLG:n,fontSizeXL:s,fontSizeHeading3:o,marginXS:i,marginXXS:u,colorBorderBg:c}=e;return{containerSize:a,containerSizeLG:t,containerSizeSM:r,textFontSize:Math.round((n+s)/2),textFontSizeLG:o,textFontSizeSM:l,groupSpace:u,groupOverlapping:-i,groupBorderColor:c}})),je=Symbol("AvatarContextKey"),ze=s({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:{prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:o.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}},slots:Object,setup(e,a){let{slots:r,attrs:n}=a;const s=i(!0),o=i(!1),y=i(1),h=i(null),_=i(null),{prefixCls:k}=u("avatar",e),[C,S]=we(k),O=l(je,{}),x=c((()=>"default"===e.size?O.size:e.size)),w=re(),j=le((()=>{if("object"!=typeof e.size)return;const a=Ce.find((e=>w.value[e]));return e.size[a]})),z=()=>{if(!h.value||!_.value)return;const a=h.value.offsetWidth,t=_.value.offsetWidth;if(0!==a&&0!==t){const{gap:r=4}=e;2*r<t&&(y.value=t-2*r<a?(t-2*r)/a:1)}},$=()=>{const{loadError:a}=e;!1!==(null==a?void 0:a())&&(s.value=!1)};return d((()=>e.src),(()=>{m((()=>{s.value=!0,y.value=1}))})),d((()=>e.gap),(()=>{m((()=>{z()}))})),p((()=>{m((()=>{z(),o.value=!0}))})),()=>{var a,l;const{shape:i,src:u,alt:c,srcset:d,draggable:p,crossOrigin:m}=e,w=null!==(a=O.shape)&&void 0!==a?a:i,P=v(r,e,"icon"),I=k.value,M={[`${n.class}`]:!!n.class,[I]:!0,[`${I}-lg`]:"large"===x.value,[`${I}-sm`]:"small"===x.value,[`${I}-${w}`]:!0,[`${I}-image`]:u&&s.value,[`${I}-icon`]:P,[S.value]:!0},L="number"==typeof x.value?{width:`${x.value}px`,height:`${x.value}px`,lineHeight:`${x.value}px`,fontSize:P?x.value/2+"px":"18px"}:{},R=null===(l=r.default)||void 0===l?void 0:l.call(r);let A;if(u&&s.value)A=f("img",{draggable:p,src:u,srcset:d,onError:$,alt:c,crossorigin:m},null);else if(P)A=P;else if(o.value||1!==y.value){const e=`scale(${y.value}) translateX(-50%)`,a={msTransform:e,WebkitTransform:e,transform:e},r="number"==typeof x.value?{lineHeight:`${x.value}px`}:{};A=f(g,{onResize:z},{default:()=>[f("span",{class:`${I}-string`,ref:h,style:t(t({},r),a)},[R])]})}else A=f("span",{class:`${I}-string`,ref:h,style:{opacity:0}},[R]);return C(f("span",b(b({},n),{},{ref:_,class:M,style:[L,(T=!!P,j.value?{width:`${j.value}px`,height:`${j.value}px`,lineHeight:`${j.value}px`,fontSize:(T?j.value/2:18)+"px"}:{}),n.style]}),[A]));var T}}}),$e=s({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}},setup(e,a){let{slots:t,attrs:r}=a;const{prefixCls:l,direction:s}=u("avatar",e),o=c((()=>`${l.value}-group`)),[i,d]=we(l);return y((()=>{(e=>{n(je,e)})({size:e.size,shape:e.shape})})),()=>{const{maxPopoverPlacement:a="top",maxCount:l,maxStyle:n,maxPopoverTrigger:u="hover",shape:c}=e,p={[o.value]:!0,[`${o.value}-rtl`]:"rtl"===s.value,[`${r.class}`]:!!r.class,[d.value]:!0},m=v(t,e),g=h(m).map(((e,a)=>_(e,{key:`avatar-key-${a}`}))),y=g.length;if(l&&l<y){const e=g.slice(0,l),t=g.slice(l,y);return e.push(f(Se,{key:"avatar-popover-key",content:t,trigger:u,placement:a,overlayClassName:`${o.value}-popover`},{default:()=>[f(ze,{style:n,shape:c},{default:()=>["+"+(y-l)]})]})),i(f("div",b(b({},r),{},{class:p,style:r.style}),[e]))}return i(f("div",b(b({},r),{},{class:p,style:r.style}),[g]))}}});ze.Group=$e,ze.install=function(e){return e.component(ze.name,ze),e.component($e.name,$e),e};const Pe=s({compatConfig:{MODE:3},name:"ABreadcrumbItem",inheritAttrs:!1,__ANT_BREADCRUMB_ITEM:!0,props:{prefixCls:String,href:String,separator:o.any,dropdownProps:C(),overlay:o.any,onClick:k()},slots:Object,setup(e,a){let{slots:t,attrs:r,emit:l}=a;const{prefixCls:n}=u("breadcrumb",e),s=e=>{l("click",e)};return()=>{var a;const l=null!==(a=v(t,e,"separator"))&&void 0!==a?a:"/",o=v(t,e),{class:i,style:u}=r,c=function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)a.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]])}return t}(r,["class","style"]);let d;return d=void 0!==e.href?f("a",b({class:`${n.value}-link`,onClick:s},c),[o]):f("span",b({class:`${n.value}-link`,onClick:s},c),[o]),d=((a,r)=>{const l=v(t,e,"overlay");return l?f(pe,b(b({},e.dropdownProps),{},{overlay:l,placement:"bottom"}),{default:()=>[f("span",{class:`${r}-overlay-link`},[a,f(ge,null,null)])]}):a})(d,n.value),null!=o?f("li",{class:i,style:u},[d,l&&f("span",{class:`${n.value}-separator`},[l])]):null}}}),Ie=e=>{const{componentCls:a,iconCls:l}=e;return{[a]:t(t({},r(e)),{color:e.breadcrumbBaseColor,fontSize:e.breadcrumbFontSize,[l]:{fontSize:e.breadcrumbIconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:t({color:e.breadcrumbLinkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${e.paddingXXS}px`,borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",marginInline:-e.marginXXS,"&:hover":{color:e.breadcrumbLinkColorHover,backgroundColor:e.colorBgTextHover}},S(e)),"li:last-child":{color:e.breadcrumbLastItemColor,[`& > ${a}-separator`]:{display:"none"}},[`${a}-separator`]:{marginInline:e.breadcrumbSeparatorMargin,color:e.breadcrumbSeparatorColor},[`${a}-link`]:{[`\n          > ${l} + span,\n          > ${l} + a\n        `]:{marginInlineStart:e.marginXXS}},[`${a}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.lineHeight*e.fontSize,display:"inline-block",padding:`0 ${e.paddingXXS}px`,marginInline:-e.marginXXS,[`> ${l}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.breadcrumbLinkColorHover,backgroundColor:e.colorBgTextHover,a:{color:e.breadcrumbLinkColorHover}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},Me=e("Breadcrumb",(e=>{const t=a(e,{breadcrumbBaseColor:e.colorTextDescription,breadcrumbFontSize:e.fontSize,breadcrumbIconFontSize:e.fontSize,breadcrumbLinkColor:e.colorTextDescription,breadcrumbLinkColorHover:e.colorText,breadcrumbLastItemColor:e.colorText,breadcrumbSeparatorMargin:e.marginXS,breadcrumbSeparatorColor:e.colorTextDescription});return[Ie(t)]}));function Le(e){const{route:a,params:t,routes:r,paths:l}=e,n=r.indexOf(a)===r.length-1,s=function(e,a){if(!e.breadcrumbName)return null;const t=Object.keys(a).join("|");return e.breadcrumbName.replace(new RegExp(`:(${t})`,"g"),((e,t)=>a[t]||e))}(a,t);return n?f("span",null,[s]):f("a",{href:`#/${l.join("/")}`},[s])}const Re=s({compatConfig:{MODE:3},name:"ABreadcrumb",inheritAttrs:!1,props:{prefixCls:String,routes:{type:Array},params:o.any,separator:o.any,itemRender:{type:Function}},slots:Object,setup(e,a){let{slots:t,attrs:r}=a;const{prefixCls:l,direction:n}=u("breadcrumb",e),[s,o]=Me(l),i=(e,a)=>(e=(e||"").replace(/^\//,""),Object.keys(a).forEach((t=>{e=e.replace(`:${t}`,a[t])})),e),c=(e,a,t)=>{const r=[...e],l=i(a||"",t);return l&&r.push(l),r};return()=>{var a;let u;const{routes:d,params:p={}}=e,m=h(v(t,e)),g=null!==(a=v(t,e,"separator"))&&void 0!==a?a:"/",y=e.itemRender||t.itemRender||Le;d&&d.length>0?u=(e=>{let{routes:a=[],params:t={},separator:r,itemRender:l=Le}=e;const n=[];return a.map((e=>{const s=i(e.path,t);s&&n.push(s);const o=[...n];let u=null;e.children&&e.children.length&&(u=f(me,{items:e.children.map((e=>({key:e.path||e.breadcrumbName,label:l({route:e,params:t,routes:a,paths:c(o,e.path,t)})})))},null));const d={separator:r};return u&&(d.overlay=u),f(Pe,b(b({},d),{},{key:s||e.breadcrumbName}),{default:()=>[l({route:e,params:t,routes:a,paths:o})]})}))})({routes:d,params:p,separator:g,itemRender:y}):m.length&&(u=m.map(((e,a)=>(O("object"==typeof e.type&&(e.type.__ANT_BREADCRUMB_ITEM||e.type.__ANT_BREADCRUMB_SEPARATOR)),x(e,{separator:g,key:a})))));const _={[l.value]:!0,[`${l.value}-rtl`]:"rtl"===n.value,[`${r.class}`]:!!r.class,[o.value]:!0};return s(f("nav",b(b({},r),{},{class:_}),[f("ol",null,[u])]))}}});const Ae=s({compatConfig:{MODE:3},name:"ABreadcrumbSeparator",__ANT_BREADCRUMB_SEPARATOR:!0,inheritAttrs:!1,props:{prefixCls:String},setup(e,a){let{slots:t,attrs:r}=a;const{prefixCls:l}=u("breadcrumb",e);return()=>{var e;const{separator:a,class:n}=r,s=function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)a.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]])}return t}(r,["separator","class"]),o=h(null===(e=t.default)||void 0===e?void 0:e.call(t));return f("span",b({class:[`${l.value}-separator`,n]},s),[o.length>0?o:"/"])}}});Re.Item=Pe,Re.Separator=Ae,Re.install=function(e){return e.component(Re.name,Re),e.component(Pe.name,Pe),e.component(Ae.name,Ae),e};var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};function Ue(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(a){De(e,a,t[a])}))}return e}function De(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Be=function(e,a){var t=Ue({},e,a.attrs);return f(w,Ue({},t,{icon:Te}),null)};Be.displayName="DeleteOutlined",Be.inheritAttrs=!1;var Ee={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};function He(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(a){Xe(e,a,t[a])}))}return e}function Xe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Ne=function(e,a){var t=He({},e,a.attrs);return f(w,He({},t,{icon:Ee}),null)};Ne.displayName="CaretRightOutlined",Ne.inheritAttrs=!1;var Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};function Ge(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(a){We(e,a,t[a])}))}return e}function We(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Ke=function(e,a){var t=Ge({},e,a.attrs);return f(w,Ge({},t,{icon:Fe}),null)};Ke.displayName="MoreOutlined",Ke.inheritAttrs=!1;var Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};function Ze(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(a){qe(e,a,t[a])}))}return e}function qe(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var Ye=function(e,a){var t=Ze({},e,a.attrs);return f(w,Ze({},t,{icon:Qe}),null)};Ye.displayName="UserAddOutlined",Ye.inheritAttrs=!1;var Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"};function Je(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?Object(arguments[a]):{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(a){ea(e,a,t[a])}))}return e}function ea(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var aa=function(e,a){var t=Je({},e,a.attrs);return f(w,Je({},t,{icon:Ve}),null)};aa.displayName="UserSwitchOutlined",aa.inheritAttrs=!1;const ta=B(s({__name:"Member",props:{userList:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{emit:a}){const t=e,r=a,l=j([{title:"用户名",dataIndex:"user_name",key:"user_name"},{title:"权限",dataIndex:"role",key:"role"},{title:"加入/更新时间",dataIndex:"creation_time",key:"creation_time"},{title:"操作",key:"operation"}]),n=j(!1),s=j({title:"",content:"",action:"",record:null}),o=async()=>{try{const{action:e,record:a}=s.value;if(!a)return;switch(e){case"status":U.success((1===a.status?"停用":"启用")+"成功");break;case"upgrade":{const e=await V.updateUserRole({target_user_id:a.user_id,role:"admin"});200===e.code?U.success("升级成功"):U.error(e.msg||"升级失败");break}case"downgrade":{const e=await V.updateUserRole({target_user_id:a.user_id,role:"user"});200===e.code?U.success("降级成功"):U.error(e.msg||"降级失败");break}case"delete":U.success("删除成功")}n.value=!1,r("refresh")}catch(e){U.error(e.msg||"操作失败")}};return(e,a)=>{const i=de,u=se,c=ae,d=ne,p=R;return D(),z("div",null,[f(d,{columns:l.value,loading:t.loading,"data-source":t.userList,pagination:!1},{bodyCell:$((({column:e,record:a})=>["operation"===e.key?(D(),P(c,{key:0,size:16},{default:$((()=>[f(i,{title:"升级为管理员"},{default:$((()=>[f(M(aa),{class:L({disabled:"admin"===a.role||"superadmin"===a.role}),onClick:e=>(e=>{"admin"!==e.role&&"superadmin"!==e.role?(s.value={title:"升级为管理员",content:"确定要将该用户升级为管理员吗？",action:"upgrade",record:e},n.value=!0):U.warning("该用户已经是管理员")})(a)},null,8,["class","onClick"])])),_:2},1024),f(i,{title:"降级为普通用户"},{default:$((()=>[f(M(J),{class:L({disabled:"user"===a.role}),onClick:e=>(e=>{"user"!==e.role?(s.value={title:"降级为普通用户",content:"确定要将该管理员降级为普通用户吗？",action:"downgrade",record:e},n.value=!0):U.warning("该用户已经是普通用户")})(a)},null,8,["class","onClick"])])),_:2},1024),f(u,{title:"确定要删除该用户吗？","ok-text":"确定","cancel-text":"取消",onConfirm:e=>(async e=>{try{const a=await V.deleteUser({target_user_id:e.user_id});200===a.code?(U.success("删除成功"),r("refresh")):U.error(a.msg||"删除失败")}catch(a){U.error(a.msg||"删除失败")}})(a)},{default:$((()=>[f(M(Be),{class:"delete-icon"})])),_:2},1032,["onConfirm"])])),_:2},1024)):I("",!0)])),_:1},8,["columns","loading","data-source"]),f(p,{visible:n.value,"onUpdate:visible":a[0]||(a[0]=e=>n.value=e),title:s.value.title,onOk:o,onCancel:a[1]||(a[1]=e=>n.value=!1)},{default:$((()=>[A("p",null,T(s.value.content),1)])),_:1},8,["visible","title"])])}}}),[["__scopeId","data-v-451132e2"]]),ra=e=>(Z("data-v-3c385494"),e=e(),q(),e),la={class:"department-container"},na={class:"main-content"},sa={class:"department-path"},oa={key:0,class:"department-row"},ia={class:"department-info"},ua=["onClick"],ca={key:0,class:"sub-count"},da={key:0,class:"department-members"},pa={class:"member-name-inline"},ma={key:0,class:"no-members"},va={class:"right-sidebar"},fa={class:"sidebar-content"},ga=ra((()=>A("span",null,"管理成员",-1))),ba=ra((()=>A("span",null,"删除部门",-1))),ya={class:"members-container"},ha={class:"members-column"},_a=ra((()=>A("div",{class:"column-header"},"可添加成员",-1))),ka={class:"members-list"},Ca=["onClick"],Sa={class:"member-avatar"},Oa={class:"member-name"},xa={key:0,class:"member-action"},wa=ra((()=>A("span",{class:"action-text"},"添加",-1))),ja={key:1,class:"member-status"},za={class:"members-column"},$a=ra((()=>A("div",{class:"column-header"},"部门成员",-1))),Pa={class:"members-list"},Ia=["onClick"],Ma={class:"member-avatar"},La={class:"member-name"},Ra={class:"member-action remove"},Aa=ra((()=>A("span",{class:"action-text"},"移除",-1))),Ta=B(s({__name:"Department",setup(e){const a=j("Team"),t=j(!1),r=j(!1),l=j(!1),n=j("");j([]);const s=j([]),o=j([]),i=j({name:"",description:""}),u=j([{title:"部门名称",dataIndex:"dept_name",key:"name"},{title:"创建时间",dataIndex:"creation_time",key:"creation_time"}]);j([{key:"1",username:"Member"}]);const d=j([{title:"o5Ljw6jYZ7 Team",key:"1",children:[{title:"222",key:"2"}]}]),m=j(!1),v=j(!1),g=j(!1),b=j(!1),y=j([]),h=j([]);c((()=>{const e=[],a=(t,r=0)=>{t.forEach((t=>{var l;e.push({...t,level:r}),t.expanded&&(null==(l=t.children)?void 0:l.length)&&a(t.children,r+1)}))};return a((e=>{const a=[],t=new Map;return e.forEach((e=>{t.set(e.dept_id,{...e,children:[],expanded:!1,level:0})})),e.forEach((e=>{const r=t.get(e.dept_id);if(e.parent_dept_id&&t.has(e.parent_dept_id)){const a=t.get(e.parent_dept_id);a.children.push(r),r.level=a.level+1}else a.push(r)})),a})(o.value)),e}));const _=async()=>{try{m.value=!0;const e=await V.departmentList();200===e.code?w.value=e.data:U.error(e.msg||"获取部门列表失败")}catch(e){U.error("获取部门列表失败")}finally{m.value=!1}},k=async()=>{if(i.value.name){v.value=!0;try{const e=await V.createDepartment({dept_name:i.value.name,description:i.value.description,parent_dept_id:B.value||null,user_id:localStorage.getItem("userId")});200===e.code?(U.success("创建成功"),t.value=!1,_()):U.error(e.msg||"创建失败")}catch(e){U.error("创建部门失败")}finally{v.value=!1}}else U.warning("请输入部门名称")},C=()=>{t.value=!1},S=()=>{t.value=!0,i.value={name:"",description:""}},O=()=>{r.value=!0,n.value="",le.value=y.value.filter((e=>e.department&&e.department.dept_id===B.value)).map((e=>({...e,key:e.user_id}))),re.value=y.value.filter((e=>{if(e.department&&e.department.dept_id===B.value)return!1;const a=null!==e.department&&void 0!==e.department;return{...e,key:e.user_id,disabled:a}})).map((e=>{const a=null!==e.department&&void 0!==e.department;return{...e,key:e.user_id,disabled:a}}))},x=()=>{R.confirm({title:"删除警告",content:"确认删除该部门？",okText:"确认",cancelText:"取消",okType:"danger",onOk:async()=>{if(!B.value)return void U.error("无法删除根部门");if(q(B.value)>0)U.error("该部门下有子部门，请先删除子部门");else{g.value=!0;try{const e=await V.deleteDepartment({dept_id:B.value,user_id:localStorage.getItem("userId")});if(200===e.code){U.success("删除成功");const e=w.value.find((e=>e.dept_id===B.value));ae((null==e?void 0:e.parent_dept_id)||null),_()}else U.error(e.msg||"删除失败")}catch(e){e.response&&e.response.data&&e.response.data.msg?U.error(e.response.data.msg):U.error("删除部门失败")}finally{g.value=!1}}}})};p((()=>{_(),fe()}));const w=j([]),B=j(null),Z=c((()=>w.value.filter((e=>null===B.value?null===e.parent_dept_id:e.parent_dept_id===B.value)))),q=e=>w.value.filter((a=>a.parent_dept_id===e)).length,Y=c((()=>B.value?w.value.find((e=>e.dept_id===B.value)):null)),ae=e=>{B.value=e,a.value=e&&w.value.find((a=>a.dept_id===e))||null,fe()},re=j([]),le=j([]),se=e=>y.value.filter((a=>a.department?a.department.dept_id===e:null==e||""===e)),ue=()=>{r.value=!1},ce=()=>{r.value=!1},de=c((()=>n.value?re.value.filter((e=>e.user_name.toLowerCase().includes(n.value.toLowerCase()))):re.value)),pe=c((()=>n.value?le.value.filter((e=>e.user_name.toLowerCase().includes(n.value.toLowerCase()))):le.value)),fe=async()=>{try{const e=await V.userList();200===e.code?y.value=e.data:U.error(e.msg||"获取用户列表失败")}catch(e){U.error("获取用户列表失败")}},ge=e=>h.value.includes(e);return(e,o)=>{const c=Pe,p=Re,y=X,_=ne,w=te,j=ve,Ce=me,Se=G,Oe=_e,xe=W,we=he,je=R,ze=K,$e=Q("tag"),Ie=ke,Me=ie;return D(),z("div",la,[A("div",na,[A("div",sa,[f(p,null,{default:$((()=>[f(c,null,{default:$((()=>[A("a",{onClick:o[0]||(o[0]=e=>ae(null))},"全部部门")])),_:1}),a.value?(D(),P(c,{key:0},{default:$((()=>[E(T(a.value.dept_name),1)])),_:1})):I("",!0)])),_:1})]),f(_,{columns:u.value,"data-source":Z.value,pagination:!1,loading:m.value},{bodyCell:$((({column:e,record:a})=>["name"===e.key?(D(),z("div",oa,[A("div",ia,[A("a",{onClick:e=>ae(a.dept_id)},[E(T(a.dept_name)+" ",1),q(a.dept_id)?(D(),z("span",ca," ("+T(q(a.dept_id))+") ",1)):I("",!0)],8,ua),se(a.dept_id).length>0?(D(),P(y,{key:0,type:"link",size:"small",onClick:H((e=>{return t=a.dept_id,void(h.value.includes(t)?h.value=h.value.filter((e=>e!==t)):h.value.push(t));var t}),["stop"]),style:{"margin-left":"8px"}},{icon:$((()=>[ge(a.dept_id)?(D(),P(M(oe),{key:0})):(D(),P(M(Ne),{key:1}))])),default:$((()=>[E(" "+T(ge(a.dept_id)?"收起成员":"查看成员"),1)])),_:2},1032,["onClick"])):I("",!0)]),ge(a.dept_id)?(D(),z("div",da,[(D(!0),z(N,null,F(se(a.dept_id),(e=>(D(),z("div",{key:e.user_id,class:"member-item-inline"},[f(M(ye)),A("span",pa,T(e.user_name),1)])))),128)),0===se(a.dept_id).length?(D(),z("div",ma," 暂无成员 ")):I("",!0)])):I("",!0)])):I("",!0)])),_:1},8,["columns","data-source","loading"])]),A("div",va,[A("div",fa,[f(y,{type:"primary",block:"",onClick:S,loading:v.value},{default:$((()=>[f(M(be)),E(T(null===B.value?"创建部门":"创建子部门"),1)])),_:1},8,["loading"]),null!==B.value?(D(),z(N,{key:0},[f(w),f(Ce,{mode:"inline"},{default:$((()=>[f(j,{key:"members",onClick:O},{default:$((()=>[f(M(J)),ga])),_:1}),f(j,{key:"delete",onClick:x,disabled:g.value},{default:$((()=>[f(M(Be)),ba])),_:1},8,["disabled"])])),_:1})],64)):I("",!0)])]),f(je,{visible:t.value,"onUpdate:visible":o[3]||(o[3]=e=>t.value=e),title:"创建部门",onOk:k,onCancel:C,confirmLoading:v.value},{default:$((()=>[f(we,{model:i.value},{default:$((()=>[f(Oe,{label:"名称"},{default:$((()=>[f(Se,{value:i.value.name,"onUpdate:value":o[1]||(o[1]=e=>i.value.name=e),placeholder:"部门名称"},null,8,["value"])])),_:1}),f(Oe,{label:"介绍"},{default:$((()=>[f(xe,{value:i.value.description,"onUpdate:value":o[2]||(o[2]=e=>i.value.description=e),placeholder:"介绍"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","confirmLoading"]),f(je,{visible:r.value,"onUpdate:visible":o[5]||(o[5]=e=>r.value=e),title:"管理部门成员",width:"800px",onOk:ue,onCancel:ce,footer:null},{default:$((()=>[f(ze,{value:n.value,"onUpdate:value":o[4]||(o[4]=e=>n.value=e),placeholder:"搜索用户名",style:{"margin-bottom":"16px"}},null,8,["value"]),A("div",ya,[A("div",ha,[_a,f(Ie,{spinning:b.value},{default:$((()=>[A("div",ka,[(D(!0),z(N,null,F(de.value,(e=>(D(),z("div",{key:e.user_id,class:L(["member-item",{disabled:e.disabled}]),onClick:a=>!e.disabled&&(async e=>{var a;try{const t=await V.updateUser({user_id:localStorage.getItem("userId")||"",target_user_id:e,dept_id:B.value});if(200===t.code){U.success("添加成员成功");const t=re.value.find((a=>a.user_id===e));t&&(re.value=re.value.filter((a=>a.user_id!==e)),le.value.push({...t,department:{dept_id:B.value,dept_name:(null==(a=Y.value)?void 0:a.dept_name)||""}}),fe())}else U.error(t.msg||"添加成员失败")}catch(t){U.error("添加成员失败")}})(e.user_id)},[A("div",Sa,[f(M(ye))]),A("div",Oa,T(e.user_name),1),e.disabled?I("",!0):(D(),z("div",xa,[f(M(be)),wa])),e.disabled?(D(),z("div",ja,[f($e,{color:"default"},{default:$((()=>[E("已有部门")])),_:1})])):I("",!0)],10,Ca)))),128))])])),_:1},8,["spinning"])]),A("div",za,[$a,f(Ie,{spinning:b.value},{default:$((()=>[A("div",Pa,[(D(!0),z(N,null,F(pe.value,(e=>(D(),z("div",{key:e.user_id,class:"member-item",onClick:a=>(async e=>{try{const a=await V.updateUser({user_id:localStorage.getItem("userId")||"",target_user_id:e,dept_id:null});if(200===a.code){U.success("移除成员成功");const a=le.value.find((a=>a.user_id===e));a&&(le.value=le.value.filter((a=>a.user_id!==e)),re.value.push({...a,department:null,disabled:!1}),fe())}else U.error(a.msg||"移除成员失败")}catch(a){U.error("移除成员失败")}})(e.user_id)},[A("div",Ma,[f(M(ye))]),A("div",La,T(e.user_name),1),A("div",Ra,[f(M(ee)),Aa])],8,Ia)))),128))])])),_:1},8,["spinning"])])])])),_:1},8,["visible"]),f(je,{visible:l.value,"onUpdate:visible":o[7]||(o[7]=e=>l.value=e),title:"移动部门",onOk:e.handleMoveOk,onCancel:e.handleMoveCancel},{default:$((()=>[f(Me,{selectedKeys:s.value,"onUpdate:selectedKeys":o[6]||(o[6]=e=>s.value=e),"tree-data":d.value,onSelect:e.onDepartmentSelect},null,8,["selectedKeys","tree-data","onSelect"])])),_:1},8,["visible","onOk","onCancel"])])}}}),[["__scopeId","data-v-3c385494"]]),Ua=e=>(Z("data-v-b24a4030"),e=e(),q(),e),Da={class:"group-container"},Ba={class:"members-container"},Ea={class:"members-column"},Ha=Ua((()=>A("div",{class:"column-header"},"可添加成员",-1))),Xa={class:"members-list"},Na=["onClick"],Fa={class:"member-avatar"},Ga={class:"member-name"},Wa={key:0,class:"member-action"},Ka=Ua((()=>A("span",{class:"action-text"},"添加",-1))),Qa={key:1,class:"member-status"},Za={class:"members-column"},qa=Ua((()=>A("div",{class:"column-header"},"群组成员",-1))),Ya={class:"members-list"},Va=["onClick"],Ja={class:"member-avatar"},et={class:"member-name"},at={class:"member-action remove"},tt=Ua((()=>A("span",{class:"action-text"},"移除",-1))),rt=B({__name:"Group",setup(e,{expose:a}){const t=[{title:"群组名称",dataIndex:"group_name",key:"group_name"},{title:"操作",key:"action",width:150}],r=j(!1),l=j(!1),n=j(!1),s=j([]),o=j({name:""}),i=j(!1),u=j(""),d=j(!1),m=j([]),v=j([]),g=j(null),b=j(""),y=async()=>{r.value=!0;try{const e=await V.groupList();200===e.code?s.value=e.data.map((e=>({group_id:e.group_id,group_name:e.group_name,owner:e.owner,members:e.members||""}))):U.error(e.msg||"获取群组列表失败")}catch(e){U.error("获取群组列表失败")}finally{r.value=!1}};p((()=>{y()}));const h=async()=>{if(o.value.name.trim()){n.value=!0;try{const e=await V.createGroup({group_name:o.value.name});200===e.code?(U.success("创建群组成功"),l.value=!1,o.value={name:""},y()):U.error(e.msg||"创建群组失败")}catch(e){U.error("创建群组失败")}finally{n.value=!1}}else U.warning("请输入群组名称")},_=()=>{l.value=!1,o.value={name:""}},k=async()=>{d.value=!0;try{const e=await V.userList();if(200===e.code){const a=e.data;v.value=a.filter((e=>e.groups&&e.groups.some((e=>e.group_id===g.value)))).map((e=>({...e,key:e.user_id}))),m.value=a.filter((e=>!e.groups||!e.groups.some((e=>e.group_id===g.value)))).map((e=>({...e,key:e.user_id,disabled:!1})))}else U.error(e.msg||"获取用户列表失败")}catch(e){U.error("获取用户列表失败")}finally{d.value=!1}},C=()=>{i.value=!1},S=()=>{i.value=!1},O=c((()=>u.value?m.value.filter((e=>e.user_name.toLowerCase().includes(u.value.toLowerCase()))):m.value)),x=c((()=>u.value?v.value.filter((e=>e.user_name.toLowerCase().includes(u.value.toLowerCase()))):v.value));return a({showCreateModal:()=>{l.value=!0}}),(e,a)=>{const c=ve,p=fe,w=me,j=X,B=pe,H=ne,W=G,K=_e,Q=he,Z=R,q=ue,Y=ke;return D(),z("div",Da,[f(H,{dataSource:s.value,columns:t,pagination:{position:["bottomRight"]},style:{height:"100%"},loading:r.value},{bodyCell:$((({column:e,record:a})=>["action"===e.key?(D(),P(B,{key:0},{overlay:$((()=>[f(w,null,{default:$((()=>[f(c,{onClick:e=>(e=>{g.value=e.group_id,b.value=e.group_name,i.value=!0,u.value="",k()})(a)},{icon:$((()=>[f(M(ye))])),default:$((()=>[E(" 管理成员 ")])),_:2},1032,["onClick"]),f(p),f(c,{danger:"",onClick:e=>(e=>{R.confirm({title:"删除警告",content:"确认删除该群组？",okText:"确认",cancelText:"取消",okType:"danger",onOk:async()=>{try{const a=await V.deleteGroup({group_id:e.group_id,user_id:localStorage.getItem("userId")||""});200===a.code?(U.success("删除成功"),y()):U.error(a.msg||"删除失败")}catch(a){U.error("删除群组失败")}}})})(a)},{icon:$((()=>[f(M(Be))])),default:$((()=>[E(" 删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),default:$((()=>[f(j,{type:"link"},{default:$((()=>[f(M(Ke))])),_:1})])),_:2},1024)):I("",!0)])),_:1},8,["dataSource","loading"]),f(Z,{visible:l.value,"onUpdate:visible":a[1]||(a[1]=e=>l.value=e),title:"创建群组",onOk:h,onCancel:_,confirmLoading:n.value},{default:$((()=>[f(Q,{model:o.value},{default:$((()=>[f(K,null,{default:$((()=>[f(W,{value:o.value.name,"onUpdate:value":a[0]||(a[0]=e=>o.value.name=e),placeholder:"请输入群组名称"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","confirmLoading"]),f(Z,{visible:i.value,"onUpdate:visible":a[2]||(a[2]=e=>i.value=e),title:"管理群组成员",width:"800px",onOk:C,onCancel:S,footer:null},{default:$((()=>[A("div",Ba,[A("div",Ea,[Ha,f(Y,{spinning:d.value},{default:$((()=>[A("div",Xa,[(D(!0),z(N,null,F(O.value,(e=>(D(),z("div",{key:e.user_id,class:L(["member-item",{disabled:e.disabled}]),onClick:a=>!e.disabled&&(async e=>{try{const a=await V.addUserToGroup({user_id:localStorage.getItem("userId")||"",target_user_ids:[e],group_id:g.value});if(200===a.code){U.success("添加成员成功");const a=m.value.find((a=>a.user_id===e));a&&(m.value=m.value.filter((a=>a.user_id!==e)),v.value.push({...a,groups:[...a.groups||[],{group_id:g.value,group_name:b.value}]}),k())}else U.error(a.msg||"添加成员失败")}catch(a){U.error("添加成员失败")}})(e.user_id)},[A("div",Fa,[f(M(ye))]),A("div",Ga,T(e.user_name),1),e.disabled?I("",!0):(D(),z("div",Wa,[f(M(be)),Ka])),e.disabled?(D(),z("div",Qa,[f(q,{color:"default"},{default:$((()=>[E("已在群组")])),_:1})])):I("",!0)],10,Na)))),128))])])),_:1},8,["spinning"])]),A("div",Za,[qa,f(Y,{spinning:d.value},{default:$((()=>[A("div",Ya,[(D(!0),z(N,null,F(x.value,(e=>(D(),z("div",{key:e.user_id,class:"member-item",onClick:a=>(async e=>{try{const a=await V.removeUserFromGroup({user_id:localStorage.getItem("userId")||"",target_user_id:e,group_id:g.value});if(200===a.code){U.success("移除成员成功");const a=v.value.find((a=>a.user_id===e));a&&(v.value=v.value.filter((a=>a.user_id!==e)),m.value.push({...a,groups:(a.groups||[]).filter((e=>e.group_id!==g.value)),disabled:!1}),k())}else U.error(a.msg||"移除成员失败")}catch(a){U.error("移除成员失败")}})(e.user_id)},[A("div",Ja,[f(M(ye))]),A("div",et,T(e.user_name),1),A("div",at,[f(M(ee)),tt])],8,Va)))),128))])])),_:1},8,["spinning"])])])])),_:1},8,["visible"])])}}},[["__scopeId","data-v-b24a4030"]]),lt=s({name:"Permission",components:{CaretDownOutlined:oe,CaretRightOutlined:Ne,DeleteOutlined:Be},data:()=>({columns:[{title:"成员 / 部门 / 群组",dataIndex:"name",slots:{customRender:"name"}},{title:"工作台/知识库创建",dataIndex:"workspacePermission",slots:{customRender:"workspacePermission"}},{title:"管理员",dataIndex:"adminPermission",slots:{customRender:"adminPermission"}},{title:"操作",key:"action",slots:{customRender:"action"}}]}),methods:{handleDelete(e){}}}),nt={class:"permission-table"};const st=B(lt,[["render",function(e,a,t,r,l,n){const s=Q("CaretDownOutlined"),o=Q("CaretRightOutlined"),i=ae,u=ze,c=ce,d=Q("DeleteOutlined"),p=X,m=ne;return D(),z("div",nt,[f(m,{columns:e.columns,"data-source":[],pagination:!1},{expandable:$((({record:e})=>[f(i,null,{default:$((()=>[e.expanded?(D(),P(s,{key:0})):(D(),P(o,{key:1})),E(" "+T(e.type),1)])),_:2},1024)])),name:$((({record:e})=>[f(i,null,{default:$((()=>[f(u,{size:24,src:e.avatar},null,8,["src"]),E(" "+T(e.name),1)])),_:2},1024)])),workspacePermission:$((({record:e})=>[f(c,{checked:e.workspacePermission,"onUpdate:checked":a=>e.workspacePermission=a},null,8,["checked","onUpdate:checked"])])),adminPermission:$((({record:e})=>[f(c,{checked:e.adminPermission,"onUpdate:checked":a=>e.adminPermission=a},null,8,["checked","onUpdate:checked"])])),action:$((({record:a})=>["成员"!==a.type?(D(),P(p,{key:0,type:"link",danger:"",onClick:t=>e.handleDelete(a)},{default:$((()=>[f(d)])),_:2},1032,["onClick"])):I("",!0)])),_:1},8,["columns"])])}],["__scopeId","data-v-561b64ed"]]),ot={class:"account-container"},it={class:"account-content"},ut={class:"tabs-wrapper"},ct={class:"tabs-nav"},dt=["onClick"],pt={class:"tab-content"},mt={class:"action-buttons"},vt={class:"tab-panel"},ft={key:0,class:"tab-inner"},gt={key:1,class:"tab-inner"},bt={key:2,class:"tab-inner"},yt={key:3,class:"tab-inner"},ht=B(s({__name:"index",setup(e){const a=[{id:"member",name:"成员",icon:"user"},{id:"department",name:"部门",icon:"shield"},{id:"group",name:"群组",icon:"bell"}],t=j("member"),r=e=>{},l=j(!1),n=j(!1),s=j({username:""}),o=()=>{l.value=!0},i=()=>{l.value=!1,s.value.username=""},u=async()=>{if(s.value.username){n.value=!0;try{await V.createUser({user_name:s.value.username,password:"123456"});U.success("邀请成功"),l.value=!1,s.value.username="",b()}catch(e){U.error(e.msg||"邀请失败")}finally{n.value=!1}}else U.warning("请输入用户名")},c=j(null),d=()=>{c.value.showCreateModal()},m=()=>{},v=j([]),g=j(!1),b=async()=>{g.value=!0;try{const e=await V.userList();200===e.code?v.value=e.data:U.error(e.msg||"获取用户列表失败")}catch(e){U.error("获取用户列表失败")}finally{g.value=!1}};return p((()=>{b()})),(e,p)=>{const y=G,h=X,_=_e,k=he,C=R;return D(),z("div",ot,[A("div",it,[A("div",ut,[A("div",ct,[(D(),z(N,null,F(a,(e=>A("button",{key:e.id,onClick:a=>t.value=e.id,class:L(["tab-button",{active:t.value===e.id}])},[A("div",pt,[A("span",null,T(e.name),1)])],10,dt))),64))]),A("div",mt,["department"===t.value?(D(),z(N,{key:0},[f(y,{placeholder:"搜索部门",style:{width:"200px","margin-right":"16px"},onSearch:r}),f(h,{type:"primary",disabled:!1,onClick:o},{icon:$((()=>[f(M(Ye))])),default:$((()=>[E(" 创建成员 ")])),_:1})],64)):I("",!0),"group"===t.value?(D(),P(h,{key:1,type:"primary",onClick:d},{icon:$((()=>[f(M(be))])),default:$((()=>[E(" 创建群组 ")])),_:1})):I("",!0),"member"===t.value?(D(),P(h,{key:2,type:"primary",disabled:!1,onClick:o},{icon:$((()=>[f(M(Ye))])),default:$((()=>[E(" 创建成员 ")])),_:1})):I("",!0),"permission"===t.value?(D(),z(N,{key:3},[f(y,{placeholder:"搜索成员/部门/群组名称",style:{width:"240px","margin-right":"16px"},onSearch:r}),f(h,{type:"primary",onClick:m},{icon:$((()=>[f(M(be))])),default:$((()=>[E(" 添加权限 ")])),_:1})],64)):I("",!0)])]),A("div",vt,[f(Y,{name:"fade",mode:"out-in"},{default:$((()=>["member"===t.value?(D(),z("div",ft,[f(ta,{userList:v.value,loading:g.value,onRefresh:b},null,8,["userList","loading"])])):"department"===t.value?(D(),z("div",gt,[f(Ta)])):"group"===t.value?(D(),z("div",bt,[f(rt,{ref_key:"groupRef",ref:c},null,512)])):"permission"===t.value?(D(),z("div",yt,[f(st)])):I("",!0)])),_:1})])]),f(C,{visible:l.value,"onUpdate:visible":p[1]||(p[1]=e=>l.value=e),title:"邀请成员",onOk:u,onCancel:i,confirmLoading:n.value,class:"invite-modal",closable:!1},{default:$((()=>[f(k,{model:s.value},{default:$((()=>[f(_,{name:"username"},{default:$((()=>[f(y,{value:s.value.username,"onUpdate:value":p[0]||(p[0]=e=>s.value.username=e),placeholder:"请输入用户名"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","confirmLoading"])])}}}),[["__scopeId","data-v-39848d21"]]);export{ht as default};
