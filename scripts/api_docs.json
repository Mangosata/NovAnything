{
  "openapi": "3.0.0",
  "info": {
    "title": "NovAnything API",
    "description": "NovAnything系统API接口文档",
    "version": "0.0.1"
  },
  "servers": [
    {
      "url": "http://localhost:8777",
      "description": "本地开发服务器"
    }
  ],
  "paths": {
    "/api/local_doc_qa/new_knowledge_base": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "新建知识库",
        "description": "创建一个新的知识库",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_name": {
                    "type": "string",
                    "description": "知识库名称"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "description": {
                    "type": "string",
                    "description": "知识库描述"
                  }
                },
                "required": [
                  "kb_name",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/upload_weblink": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "上传网页链接",
        "description": "上传网页链接到知识库",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "url": {
                    "type": "string",
                    "description": "网页链接"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "url"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/upload_files": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "上传文件",
        "description": "上传文件到知识库",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "上传的文件"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "files"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/upload_faqs": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "上传FAQ",
        "description": "上传FAQ到知识库",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "faqs": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "question": {
                          "type": "string",
                          "description": "问题"
                        },
                        "answer": {
                          "type": "string",
                          "description": "答案"
                        }
                      }
                    },
                    "description": "FAQ列表"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "faqs"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/local_doc_chat": {
      "post": {
        "tags": [
          "知识库问答"
        ],
        "summary": "知识库问答",
        "description": "基于知识库进行问答",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "query": {
                    "type": "string",
                    "description": "用户问题"
                  },
                  "history": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "role": {
                          "type": "string",
                          "description": "角色(user/assistant)"
                        },
                        "content": {
                          "type": "string",
                          "description": "内容"
                        }
                      }
                    },
                    "description": "历史对话"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "query"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/list_files": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "文件列表",
        "description": "获取知识库中的文件列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_total_status": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "获取知识库状态",
        "description": "获取知识库的总体状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/clean_files_by_status": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "清理文件",
        "description": "根据状态清理知识库中的文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "status": {
                    "type": "string",
                    "description": "文件状态"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "status"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/delete_files": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "删除文件",
        "description": "删除知识库中的文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "file_ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "文件ID列表"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "file_ids"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/delete_knowledge_base": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "删除知识库",
        "description": "删除指定的知识库",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/rename_knowledge_base": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "重命名知识库",
        "description": "重命名指定的知识库",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "kb_name": {
                    "type": "string",
                    "description": "新的知识库名称"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "kb_name"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_doc_completed": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "获取文档完整内容",
        "description": "获取知识库中文档的完整内容",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "doc_id": {
                    "type": "string",
                    "description": "文档ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "doc_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_qa_info": {
      "post": {
        "tags": [
          "知识库问答"
        ],
        "summary": "获取QA信息",
        "description": "获取问答相关信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_user_id": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户ID",
        "description": "获取当前用户的ID",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_doc": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "获取文档详情",
        "description": "获取知识库中文档的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "doc_id": {
                    "type": "string",
                    "description": "文档ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "doc_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_rerank_results": {
      "post": {
        "tags": [
          "知识库问答"
        ],
        "summary": "获取重排结果",
        "description": "获取问答重排序的结果",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "query": {
                    "type": "string",
                    "description": "查询内容"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "query"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_user_status": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户状态",
        "description": "获取用户的当前状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_random_qa": {
      "post": {
        "tags": [
          "知识库问答"
        ],
        "summary": "获取随机QA",
        "description": "获取随机的问答对",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_related_qa": {
      "post": {
        "tags": [
          "知识库问答"
        ],
        "summary": "获取相关QA",
        "description": "获取与当前问题相关的问答对",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "query": {
                    "type": "string",
                    "description": "查询内容"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "query"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/update_chunks": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "更新文档块",
        "description": "更新知识库中的文档块",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "doc_id": {
                    "type": "string",
                    "description": "文档ID"
                  },
                  "chunks": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "chunk_id": {
                          "type": "string",
                          "description": "文档块ID"
                        },
                        "content": {
                          "type": "string",
                          "description": "文档块内容"
                        }
                      }
                    },
                    "description": "文档块列表"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "doc_id",
                  "chunks"
                ]
              }
            }
          }
        }
      }
    },
    "/api/local_doc_qa/get_file_base64": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "获取文件Base64",
        "description": "获取文件的Base64编码",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "file_id": {
                    "type": "string",
                    "description": "文件ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "file_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "用户认证"
        ],
        "summary": "用户登录",
        "description": "用户登录并获取访问令牌",
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "msg": {
                      "type": "string",
                      "example": "登录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "access_token": {
                          "type": "string",
                          "description": "访问令牌"
                        },
                        "refresh_token": {
                          "type": "string",
                          "description": "刷新令牌"
                        },
                        "token_type": {
                          "type": "string",
                          "example": "bearer",
                          "description": "令牌类型"
                        },
                        "expires_in": {
                          "type": "integer",
                          "description": "令牌有效期（秒）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "用户名或密码错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "用户名或密码错误"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名"
                  },
                  "password": {
                    "type": "string",
                    "description": "密码"
                  }
                },
                "required": [
                  "username",
                  "password"
                ]
              }
            }
          }
        }
      }
    },
    "/api/auth/refresh_token": {
      "post": {
        "tags": [
          "用户认证"
        ],
        "summary": "刷新令牌",
        "description": "使用刷新令牌获取新的访问令牌",
        "responses": {
          "200": {
            "description": "刷新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "msg": {
                      "type": "string",
                      "example": "刷新成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "access_token": {
                          "type": "string",
                          "description": "新的访问令牌"
                        },
                        "refresh_token": {
                          "type": "string",
                          "description": "新的刷新令牌"
                        },
                        "token_type": {
                          "type": "string",
                          "example": "bearer",
                          "description": "令牌类型"
                        },
                        "expires_in": {
                          "type": "integer",
                          "description": "令牌有效期（秒）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "刷新令牌无效或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "刷新令牌无效或已过期"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refresh_token": {
                    "type": "string",
                    "description": "刷新令牌"
                  }
                },
                "required": [
                  "refresh_token"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/create": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "创建用户",
        "description": "创建新用户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名"
                  },
                  "password": {
                    "type": "string",
                    "description": "密码"
                  },
                  "name": {
                    "type": "string",
                    "description": "姓名"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱"
                  },
                  "phone": {
                    "type": "string",
                    "description": "电话"
                  },
                  "dept_id": {
                    "type": "string",
                    "description": "部门ID"
                  },
                  "role": {
                    "type": "string",
                    "description": "角色"
                  }
                },
                "required": [
                  "username",
                  "password",
                  "name"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/list": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "用户列表",
        "description": "获取用户列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词",
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/user/delete": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "删除用户",
        "description": "删除指定用户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/update": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "更新用户",
        "description": "更新用户信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "姓名"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱"
                  },
                  "phone": {
                    "type": "string",
                    "description": "电话"
                  },
                  "dept_id": {
                    "type": "string",
                    "description": "部门ID"
                  },
                  "role": {
                    "type": "string",
                    "description": "角色"
                  }
                },
                "required": [
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/reset_password": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "重置密码",
        "description": "管理员重置用户密码",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "password": {
                    "type": "string",
                    "description": "新密码"
                  }
                },
                "required": [
                  "user_id",
                  "password"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/change_password": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "修改密码",
        "description": "用户修改自己的密码",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "old_password": {
                    "type": "string",
                    "description": "旧密码"
                  },
                  "new_password": {
                    "type": "string",
                    "description": "新密码"
                  }
                },
                "required": [
                  "old_password",
                  "new_password"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/set_kb_access": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "设置用户知识库权限",
        "description": "设置用户对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "access_type": {
                    "type": "string",
                    "description": "权限类型",
                    "enum": [
                      "read",
                      "write",
                      "admin",
                      "none"
                    ]
                  }
                },
                "required": [
                  "user_id",
                  "kb_id",
                  "access_type"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/batch_set_kb_access": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "批量设置用户知识库权限",
        "description": "批量设置用户对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "kb_ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "知识库ID列表"
                  },
                  "access_type": {
                    "type": "string",
                    "description": "权限类型",
                    "enum": [
                      "read",
                      "write",
                      "admin",
                      "none"
                    ]
                  }
                },
                "required": [
                  "user_id",
                  "kb_ids",
                  "access_type"
                ]
              }
            }
          }
        }
      }
    },
    "/api/user/get_kb_access": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户知识库权限",
        "description": "获取用户对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "description": "用户ID",
            "schema": {
              "type": "string"
            },
            "required": [
              "user_id"
            ]
          }
        ]
      }
    },
    "/api/user/update_user_profile": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "更新用户信息",
        "description": "用户更新自己的个人信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "姓名"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱"
                  },
                  "phone": {
                    "type": "string",
                    "description": "电话"
                  },
                  "avatar": {
                    "type": "string",
                    "description": "头像URL"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/user/get_user_profile": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户信息",
        "description": "获取当前用户的个人信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/user/list_knowledge_base": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取可访问知识库",
        "description": "获取用户可访问的知识库列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/kb/grant_access": {
      "post": {
        "tags": [
          "知识库权限管理"
        ],
        "summary": "授予知识库访问权限",
        "description": "授予用户或用户组对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "access_type": {
                    "type": "string",
                    "description": "权限类型",
                    "enum": [
                      "read",
                      "write",
                      "admin"
                    ]
                  }
                },
                "required": [
                  "kb_id",
                  "user_id",
                  "access_type"
                ]
              }
            }
          }
        }
      }
    },
    "/api/kb/revoke_access": {
      "post": {
        "tags": [
          "知识库权限管理"
        ],
        "summary": "撤销知识库访问权限",
        "description": "撤销用户或用户组对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/kb/access_list": {
      "get": {
        "tags": [
          "知识库权限管理"
        ],
        "summary": "获取知识库访问权限列表",
        "description": "获取知识库的访问权限列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "kb_id",
            "in": "query",
            "description": "知识库ID",
            "schema": {
              "type": "string"
            },
            "required": [
              "kb_id"
            ]
          }
        ]
      }
    },
    "/api/kb/check_access": {
      "get": {
        "tags": [
          "知识库权限管理"
        ],
        "summary": "检查知识库权限",
        "description": "检查用户对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "kb_id",
            "in": "query",
            "description": "知识库ID",
            "schema": {
              "type": "string"
            },
            "required": [
              "kb_id"
            ]
          },
          {
            "name": "user_id",
            "in": "query",
            "description": "用户ID",
            "schema": {
              "type": "string"
            },
            "required": [
              "user_id"
            ]
          }
        ]
      }
    },
    "/api/kb/batch_set_access": {
      "post": {
        "tags": [
          "知识库权限管理"
        ],
        "summary": "批量设置知识库访问权限",
        "description": "批量设置用户对知识库的访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "user_ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "用户ID列表"
                  },
                  "access_type": {
                    "type": "string",
                    "description": "权限类型",
                    "enum": [
                      "read",
                      "write",
                      "admin",
                      "none"
                    ]
                  }
                },
                "required": [
                  "kb_id",
                  "user_ids",
                  "access_type"
                ]
              }
            }
          }
        }
      }
    },
    "/api/kb/detail": {
      "get": {
        "tags": [
          "知识库管理"
        ],
        "summary": "获取知识库详情",
        "description": "获取知识库的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "kb_id",
            "in": "query",
            "description": "知识库ID",
            "schema": {
              "type": "string"
            },
            "required": [
              "kb_id"
            ]
          }
        ]
      }
    },
    "/api/kb/transfer_kb_ownership": {
      "post": {
        "tags": [
          "知识库管理"
        ],
        "summary": "转移知识库所有权",
        "description": "将知识库的所有权转移给其他用户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kb_id": {
                    "type": "string",
                    "description": "知识库ID"
                  },
                  "new_owner_id": {
                    "type": "string",
                    "description": "新所有者用户ID"
                  }
                },
                "required": [
                  "kb_id",
                  "new_owner_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/group/create": {
      "post": {
        "tags": [
          "用户组管理"
        ],
        "summary": "创建用户组",
        "description": "创建新的用户组",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "用户组名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "用户组描述"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        }
      }
    },
    "/api/group/list": {
      "get": {
        "tags": [
          "用户组管理"
        ],
        "summary": "用户组列表",
        "description": "获取所有用户组列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词",
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/group/update": {
      "post": {
        "tags": [
          "用户组管理"
        ],
        "summary": "更新用户组",
        "description": "更新用户组信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_id": {
                    "type": "string",
                    "description": "用户组ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "用户组名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "用户组描述"
                  }
                },
                "required": [
                  "group_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/group/delete": {
      "post": {
        "tags": [
          "用户组管理"
        ],
        "summary": "删除用户组",
        "description": "删除指定的用户组",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_id": {
                    "type": "string",
                    "description": "用户组ID"
                  }
                },
                "required": [
                  "group_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/group/add_user": {
      "post": {
        "tags": [
          "用户组管理"
        ],
        "summary": "添加用户到用户组",
        "description": "将用户添加到指定用户组",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_id": {
                    "type": "string",
                    "description": "用户组ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "group_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/group/remove_user": {
      "post": {
        "tags": [
          "用户组管理"
        ],
        "summary": "从用户组移除用户",
        "description": "从指定用户组中移除用户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group_id": {
                    "type": "string",
                    "description": "用户组ID"
                  },
                  "user_id": {
                    "type": "string",
                    "description": "用户ID"
                  }
                },
                "required": [
                  "group_id",
                  "user_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/group/members": {
      "get": {
        "tags": [
          "用户组管理"
        ],
        "summary": "用户组成员列表",
        "description": "获取指定用户组的成员列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "group_id",
            "in": "query",
            "description": "用户组ID",
            "schema": {
              "type": "string"
            },
            "required": true
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ]
      }
    },
    "/api/department/create": {
      "post": {
        "tags": [
          "部门管理"
        ],
        "summary": "创建部门",
        "description": "创建新的部门",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "部门名称"
                  },
                  "parent_id": {
                    "type": "string",
                    "description": "父部门ID"
                  },
                  "description": {
                    "type": "string",
                    "description": "部门描述"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        }
      }
    },
    "/api/department/list": {
      "get": {
        "tags": [
          "部门管理"
        ],
        "summary": "部门列表",
        "description": "获取所有部门列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "size",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "搜索关键词",
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/department/update": {
      "post": {
        "tags": [
          "部门管理"
        ],
        "summary": "更新部门",
        "description": "更新部门信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "dept_id": {
                    "type": "string",
                    "description": "部门ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "部门名称"
                  },
                  "parent_id": {
                    "type": "string",
                    "description": "父部门ID"
                  },
                  "description": {
                    "type": "string",
                    "description": "部门描述"
                  }
                },
                "required": [
                  "dept_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/department/delete": {
      "post": {
        "tags": [
          "部门管理"
        ],
        "summary": "删除部门",
        "description": "删除指定的部门",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "dept_id": {
                    "type": "string",
                    "description": "部门ID"
                  }
                },
                "required": [
                  "dept_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/bot/new_bot": {
      "post": {
        "tags": [
          "机器人管理"
        ],
        "summary": "创建机器人",
        "description": "创建新的机器人",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "机器人名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "机器人描述"
                  },
                  "kb_id": {
                    "type": "string",
                    "description": "关联的知识库ID"
                  },
                  "avatar": {
                    "type": "string",
                    "description": "机器人头像URL"
                  },
                  "prompt_template": {
                    "type": "string",
                    "description": "提示词模板"
                  }
                },
                "required": [
                  "name",
                  "kb_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/bot/delete_bot": {
      "post": {
        "tags": [
          "机器人管理"
        ],
        "summary": "删除机器人",
        "description": "删除指定的机器人",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bot_id": {
                    "type": "string",
                    "description": "机器人ID"
                  }
                },
                "required": [
                  "bot_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/bot/update_bot": {
      "post": {
        "tags": [
          "机器人管理"
        ],
        "summary": "更新机器人",
        "description": "更新机器人信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bot_id": {
                    "type": "string",
                    "description": "机器人ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "机器人名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "机器人描述"
                  },
                  "kb_id": {
                    "type": "string",
                    "description": "关联的知识库ID"
                  },
                  "avatar": {
                    "type": "string",
                    "description": "机器人头像URL"
                  },
                  "prompt_template": {
                    "type": "string",
                    "description": "提示词模板"
                  }
                },
                "required": [
                  "bot_id"
                ]
              }
            }
          }
        }
      }
    },
    "/api/bot/get_bot_info": {
      "post": {
        "tags": [
          "机器人管理"
        ],
        "summary": "获取机器人信息",
        "description": "获取机器人详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "msg": {
                      "type": "string",
                      "example": "请求参数错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "msg": {
                      "type": "string",
                      "example": "未授权或令牌已过期"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 403
                    },
                    "msg": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "msg": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bot_id": {
                    "type": "string",
                    "description": "机器人ID"
                  }
                },
                "required": [
                  "bot_id"
                ]
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer"
          },
          "msg": {
            "type": "string"
          }
        }
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "example": 200
          },
          "msg": {
            "type": "string",
            "example": "操作成功"
          },
          "data": {
            "type": "object"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "tags": [
    {
      "name": "知识库管理",
      "description": "知识库的创建、删除、重命名等管理操作"
    },
    {
      "name": "知识库问答",
      "description": "基于知识库的问答功能"
    },
    {
      "name": "用户认证",
      "description": "用户登录、令牌刷新等认证操作"
    },
    {
      "name": "用户管理",
      "description": "用户的创建、删除、更新等管理操作"
    }
  ]
}